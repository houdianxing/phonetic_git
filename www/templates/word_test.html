<div class="bar bar-header dy-word-common-top">
	
	<span class="s3" ng-click="goBack()">返回</span>	

	<span class="s1"style="font-size: 22px;font-family: 'arial black';" >练习</span><br>
</div>

<ion-content class="has-header background-yx">


	<div style="margin-bottom: 100px;">

		<div class="question_type_1" ng-if="exercise.type==1">

			<div style="background-color: white;">
				<div style="text-align: center;padding: 5px;">
					<div ng-if="exercise.media">结合题干和图片选出正确的选项</div>
					<div ng-if="!exercise.media">结合题干选出正确的选项</div>
				</div>
				<!--<div class="dy-word-test-explain">
					<img class="star_img" src="img/star_1.png" ng-if="scoreobj.ifget" ng-repeat="scoreobj in scoreObjArr">
					<img class="star_img" src="img/star_2.png" ng-if="!scoreobj.ifget" ng-repeat="scoreobj in scoreObjArr">
				</div>-->
			</div>
			
			<div style="height: 8px;"></div>

			<div style="background: white;">
				<div ng-if="exercise.media" class="text-center padding-bottom">
					<div class="exercise-img exercise-img-center" style="background-image:url({{$root.siteUrl}}/upload/exercise/mp3/{{exercise.media}});width: 160px;height:130px;"></div>
				</div>
				<div class="padding" style="font-size: 24px;line-height: 24px;" ng-show="exercise.myanswer!=exercise.answer">{{exercise.question_en}}</div>
				<div class="padding type_1_html" style="font-size: 24px;line-height: 24px;" ng-show="exercise.myanswer==exercise.answer">
				</div>
				<div class="text-left padding" ng-if="exercise.myanswer==exercise.answer" style="color: green;font-weight: bold;">
					{{exercise.question_zh}}
				</div>
				<div class="dy-word-list-list">
					<div class="out_div row row-center" ng-repeat="item in exercise.items.split('\n')" ng-click="choose_1($index,$parent.$index ,exercise)">
						<div class="col">{{'ABCDEFGHIJKLMN'.substr($index,1)}}. {{item}}</div>
						<img src="img/correct.png" ng-show="exercise.answered && exercise.myanswer==$index && exercise.myanswer==exercise.answer">
						<img error src="img/error.png" ng-show="exercise.answered && exercise.myanswer==$index && exercise.myanswer!=exercise.answer">
					</div>
				</div>
			</div>
		</div>
		
  	   <div class="question_type_4" ng-if="exercise.type==4">

			<!--<div style="background-color: white;">
				<div style="text-align: center;padding: 5px;">
					<div ng-if="exercise.media">结合题干和音频选出正确的选项</div>
				</div>
			</div>-->
			
<!--			<div style="height: 8px;"></div>
-->
			<div >
				<div class="row row-center" style="background: white;" >
					<div class="col col-20 text-center " ng-if="exercise.media">
						<img src="img/play.png" width="36" style="margin-top: 7px;" id="exercise_play_4" ng-click="playTestExercise4(exercise.media)">
					</div>
					<div class="col col-80 " style="font-size: 16px;">
						{{exercise.question_en}}
					</div>
				</div>
				<!--<div class="text-left padding" ng-if="exercise.myanswer==exercise.answer" style="color: green;font-weight: bold;">
					{{exercise.question_zh}}
				</div>-->
				<div class="book-list" style="margin-top: 20px;">
		          	<button   ng-class="{'book-col2':true,'option_right':exercise.answered && exercise.answer==$index && exercise.myanswer==exercise.answer,'option_err':exercise.answered && exercise.myanswer==$index && exercise.myanswer!=exercise.answer}"  id={{"type4_answer_item_"+exercise.id+$index}} style=""  ng-repeat="item in exercise.items.split('\n')" ng-click="choose_4($index,$parent.$index ,exercise)">
						{{item}}
							
					</button>
				</div>
			</div>
		</div>
		
		<div class="question_type_2" ng-if="exercise.type==2">
			<div style="background-color: white;">
				<div style="text-align: center;padding: 5px;">
					请选择正确的图片
				</div>
				<!--<div class="dy-word-test-explain">
					<img class="star_img" src="img/star_1.png" ng-if="scoreobj.ifget" ng-repeat="scoreobj in scoreObjArr">
					<img class="star_img" src="img/star_2.png" ng-if="!scoreobj.ifget" ng-repeat="scoreobj in scoreObjArr">
				</div>-->
			</div>
			<div style="height: 8px;"></div>
			<div style="background: white; padding-top: 10px;padding-bottom: 10px;">
				<div class="row row-center">
					<div class="col-20 text-right">
						<img src="img/xiaoxue_cut_07.png" width="36" id="exercise_play" ng-click="playTestExercise(exercise.media)">
					</div>
					<div class="col-80 text-left padding" style="font-size: 26px;line-height: 26px;" ng-show="exercise.myanswer!=exercise.answer_index">
						{{exercise.question_en}}
					</div>
					<div class="col-80 text-left padding type_2_html" style="font-size: 26px;line-height: 26px;" ng-show="exercise.myanswer==exercise.answer_index">
					</div>
				</div>
				<div class="text-center" ng-if="exercise.myanswer==exercise.answer_index" style="color: green;font-weight: bold;">
					{{exercise.question_zh}}
				</div>
				<div class="text-center exercise-img-box">
					<div ng-class="{'exercise-img':true,'exercise-img-error':exercise.answered && exercise.myanswer==$index && exercise.myanswer!=exercise.answer_index,'exercise-img-correct':exercise.answered && exercise.myanswer==$index && exercise.myanswer==exercise.answer_index}" class="exercise-img" style="background-image:url({{$root.siteUrl}}/upload/exercise/img/{{item}});" ng-repeat="item in exercise.items.split('\n')" ng-click="choose_2($index,$parent.$index ,exercise)"></div>
				</div>
			</div>
		</div>

		<div class="question_type_3" ng-if="exercise.type==3">

			<div style="background-color: white;">
				<div style="text-align: center;padding: 5px;">
					句子排序
				</div>
				<!--<div class="dy-word-test-explain">
					<img class="star_img" src="img/star_1.png" ng-if="scoreobj.ifget" ng-repeat="scoreobj in scoreObjArr">
					<img class="star_img" src="img/star_2.png" ng-if="!scoreobj.ifget" ng-repeat="scoreobj in scoreObjArr">
				</div>-->
			</div>

			<div style="height: 8px;"></div>

			<div style="background-color: white; padding-top: 10px;padding-bottom: 10px;">

				<div class="dy-word-sort-explain">
					<span>译</span>&nbsp;&nbsp;{{exercise.question}}
				</div>

				<div class="dy-word-sort-kong">
					<span class="sub" id={{"key_"+$index}} ng-repeat="key in exercise.keys track  by $index">&#12288;</span>
				</div>

				<div class="dy-word-spell-option" style="margin-top: 50px;">
					<button ng-repeat="option in exercise.options track  by $index"  ng-click="choose_3($index)">{{option}}</button>
				</div>
				
			</div>
			<!--
		<div class="dy-word-test-radio">
			<img src="img/xiaoxue_cut_07.png"><br>
		</div>-->

		</div>
		<!--5. 填空匹配-->
		<div class="question_type_5 question_type_{{exercise.id}}" ng-if="exercise.type==5">

			<div style="background-color: white;">
				<div style="text-align: center;padding: 5px;">
					填空拖放
				</div>
				<!--<div class="dy-word-test-explain">
					<img class="star_img" style="width: 20px;" src="img/star_1.png" ng-if="scoreobj.ifget" ng-repeat="scoreobj in scoreObjArr"> 
					<img class="star_img" style="width: 20px;" src="img/star_2.png" ng-if="!scoreobj.ifget" ng-repeat="scoreobj in scoreObjArr">
				</div>-->
			</div>

			<div class="list dc-content">

				<div class="draggable">
					<label class="button button-light button-small" ng-repeat="item in exercise.question">{{item}}</label>
				</div>
				
				<div class="droppable">
					<div class="item" style="padding:10px;"  ng-repeat="item in exercise.items_formats">
						<i ng-class="{'icon':true,'ion-ios-checkmark-empty balanced':exercise.result[$index],'ion-ios-close-empty assertive':!exercise.result[$index]}" style="font-size:20px ;" ng-if="exercise.result"></i> {{$index+1}}. {{item.zh0}}
						<br ng-if="item.zh0.length+exercise.answer.split('^')[$index].length>20"/>
						<span ng-class="{'answer_box':true,'correct':exercise.result&&exercise.result[$index],'error':exercise.result&&!exercise.result[$index]}"></span><br ng-if="exercise.answer.split('^')[$index].length>25"/><br ng-if="exercise.result&&!exercise.result[$index]"/>
						<span style="border:1px solid #6ED6B6; border-radius:2px; margin:3px;" class="correct" ng-if="exercise.result&&!exercise.result[$index]">{{exercise.answer.split('^')[$index]}}</span>{{item.zh1}}<br ng-if="exercise.result&&item.en"  />
						<span style="background-color:yellowgreen; color:#fff; padding:0px 2px; margin-right:3px; border-top:2px solid #FFF;" ng-if="exercise.result&&item.en" onclick="$(this).next().fadeToggle();">译</span><span ng-if="exercise.result&&item.en" style="background-color:yellowgreen; color:#fff; padding:0px 2px;border-top:2px solid #FFF;" onclick="$(this).fadeOut();">{{item.en}}</span>
					</div>
				</div>
				
				<div class="text-center padding div50" ng-if="!exercise.result">
					<button class="button button-green button-full" style="background-color:#f9b90a;" ng-click="choose_5($index,exercise);">提交</button>
				</div>
			</div>

			<p class="padding-horizontal gray" style="color: darkgrey;">答题方法：拖拽单词到任一选项上即可；单击完成过的选项，可以进行修改。</p>
		</div>

		<!--6. 图片匹配-->
		<div class="question_type_6 question_type_{{exercise.id}}" ng-if="exercise.type==6">

			<div style="background-color: white;">
				<div style="text-align: center;padding: 5px;">
					单词拖放
				</div>
				<!--<div class="dy-word-test-explain">
					<img class="star_img" style="width: 20px;" src="img/star_1.png" ng-if="scoreobj.ifget" ng-repeat="scoreobj in scoreObjArr">
					<img class="star_img" style="width: 20px;" src="img/star_2.png" ng-if="!scoreobj.ifget" ng-repeat="scoreobj in scoreObjArr">
				</div>-->
			</div>

			<div class="list dc-content">

				<div class="row" ng-if="exercise.result">
					<div class="col" ng-repeat="item in exercise.result track by $index" style="font-size: 24px;">
						<label ng-class="{'button button-block button-small button-icon icon':true,'ion-ios-checkmark-empty balanced':item,'ion-ios-close-empty assertive':!item}"></label>
					</div>
				</div>

				<!--<div class="row draggable" ng-if="!exercise.result">
					<div class="col" ng-repeat="item in exercise.question" >
						<label class="button button-light button-small button-block" style="word-wrap: break-word;">{{item}}</label>
					</div>
				</div>
				-->
				
				<div class="draggable" ng-if="!exercise.result">
					<label class="button button-light button-small" style="margin-top: 10px;margin-left: 5px;margin-right: 5px;" ng-repeat="item in exercise.question">{{item}}</label>
				</div>


				<div class="row droppable">
					<div class="col" ng-repeat="item in exercise.items.split('\n')">
						<img style="height: 80px;" src="{{$root.siteUrl}}/upload/exercise/img/{{item}}" />
						<div class="answer_box"></div>
					</div>
				</div>

				<div class="text-center padding div50" ng-if="!exercise.result">
					<button class="button button-light button-full" style="background-color:#f9b90a;" ng-click="choose_6($index,exercise);">提交</button>
				</div>

				<div class="row result-answer" ng-if="exercise.result">
					<div class="col text-center" ng-repeat="item in exercise.answer.split('^')">
						<b class="balanced">{{exercise.result[$index]?'':item}}</b>
					</div>
				</div>

			</div>
			<div style="background-color: white; padding-top: 10px;padding-bottom: 10px;">
				<p class="padding-horizontal gray" style="color: darkgrey;">答题方法：拖拽单词到任一图片上即可；单击匹配过的图片，可以进行修改。</p>
			</div>
		</div>
	</div>

</ion-content>

<div class="row row-center text-center" style="font-size: 18px; padding: 0px;height: 45px;background: white;position: absolute;left: 0px;bottom: 0px;border-top:2px solid #f0f0f0;">
	<div class="col nextbt"  ng-click="nextTest()" >{{button_name}}</div>
</div>
	